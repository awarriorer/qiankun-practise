# qiankun微服务技术调研

## 总体设计
1. 1个主(入口、基座)项目，N个子项目，业务项目
2. 主项目：负责入口展示、展示类内容、路由分发、为子项目提供容器以及分发渲染
3. 子项目：将业务拆分成多工程来实现，避免牵一发而动全身，独立业务线、敏捷开发
4. 主项目使用`main.gg.com`域名，所有子项目共用`sub.gg.com`,其具体业务通过`nginx`的根路径进行分发
5. 子项目可单独访问，也可在`main.gg.com`提供的容器内访问
6. 当前项目采用`vue3`技术栈来实现

## 已完成
1. 子项目可独立访问、亦可在主容器内正常访问
2. 解决主、子项目样式冲突的情况，通过`vite`打包时，增加 `class-namespace`
3. `image`标签的静态资源，在两中环境下正常显示
4. 开发模式下，`dev`服务、`switchHost`、`nginx` 的配置
5. 生产模式下，静态`dist`目录、`switchHost`、`nginx` 的配置

## 待完成
1. `background-image`图片资源，在子域名可访问，容器内不可访问错误
2. 生产模式下，`nginx`配置前端 `history`路由方式
3. 主项目和子项目如何通信

## 开发前准备
1. 安装 `switchHost`
2. 安装 `Nginx`
3. 根目录提供了上述软件的配置文件


